"use strict";(self["webpackChunkonepic"]=self["webpackChunkonepic"]||[]).push([[1652],{41187:function(e,t,n){n.d(t,{BN:function(){return l},Yc:function(){return r},mx:function(){return o}});var a=n(21383);const s="woff2",i=new Map;async function o(e){const t=r(e);let n=i.get(t);if(n)return n;const o=new FontFace(e.family,`url('${a.Z.fontsUrl}/woff2/${t}.${s}') format('${s}')`),l=document.fonts;return l.has(o)&&"loading"===o.status?o.loaded:(n=o.load(),i.set(t,n),l.add(o),n)}function l(e){if(!e)return"arial-unicode-ms";const t=e.toLowerCase().split(" ").join("-");switch(t){case"serif":return"noto-serif";case"sans-serif":return"arial-unicode-ms";case"monospace":return"ubuntu-mono";case"fantasy":return"cabin-sketch";case"cursive":return"redressed";default:return t}}function r(e){const t=c(e)+u(e);return l(e.family)+(t.length>0?t:"-regular")}function c(e){if(!e.weight)return"";switch(e.weight.toLowerCase()){case"bold":case"bolder":return"-bold"}return""}function u(e){if(!e.style)return"";switch(e.style.toLowerCase()){case"italic":case"oblique":return"-italic"}return""}},51652:function(e,t,n){n.r(t),n.d(t,{getContrastingBackgroundTheme:function(){return O},getRenderSymbolParameters:function(){return q},previewSymbol2D:function(){return D}});n(57658),n(30541);var a=n(36945),s=n(22130),i=n(41187),o=n(30524),l=n(79699),r=n(91742),c=n(97668);n(8693);function u(e){let{r:t,g:n,b:s,a:i}=e;return i<1&&(t=Math.round(i*t+255*(1-i)),n=Math.round(i*n+255*(1-i)),s=Math.round(i*s+255*(1-i))),new a.Z({r:t,g:n,b:s})}function h(e){const{r:t,g:n,b:a}=u(e);return.2126*t+.7152*n+.0722*a}const m="picture-fill",d="picture-marker",f="simple-fill",p="simple-line",w="simple-marker",y="text",g="Aa",b=r.b_.size,v=r.b_.maxSize,k=r.b_.maxOutlineSize,M=r.b_.lineWidth,x=225,z=document.createElement("canvas");function L(e,t){const n=z.getContext("2d"),a=[];return t&&(t.weight&&a.push(t.weight),t.size&&a.push(t.size+"px"),t.family&&a.push(t.family)),n.font=a.join(" "),n.measureText(e).width}const F=7.2/2.54,C=72/2.54;function S(e){if(0===e.length)return 0;if(e.length>2){const t=(0,o.Wz)(1),n=parseFloat(e);switch(e.slice(-2)){case"px":return n;case"pt":return n*t;case"in":return 72*n*t;case"pc":return 12*n*t;case"mm":return n*F*t;case"cm":return n*C*t}}return parseFloat(e)}function Z(e){const t=e?.size;return{width:null!=t&&"object"==typeof t&&"width"in t?(0,o.F2)(t.width):null,height:null!=t&&"object"==typeof t&&"height"in t?(0,o.F2)(t.height):null}}async function j(e,t){const n=t.fill,a=e.color;if("pattern"===n?.type&&a&&e.type!==m){const e=await(0,l.Od)(n.src,a.toCss(!0));n.src=e,t.fill=n}}async function _(e,t,n,a){if(!("font"in e)||!e.font||"text"!==t.shape.type)return;try{await(0,i.mx)(e.font)}catch{}const{width:s}=Z(a),o=/[\uE600-\uE6FF]/.test(t.shape.text);null!=s||o||(n[0]=L(t.shape.text,{weight:t.font?.weight,size:t.font?.size,family:t.font?.family}))}function E(e,t){return e>t?"dark":"light"}function q(e,t){const n="number"==typeof t?.size?t?.size:null,a=null!=n?(0,o.F2)(n):null,s=null!=t?.maxSize?(0,o.F2)(t.maxSize):null,i=null!=t?.rotation?t.rotation:"angle"in e?e.angle:null,c=(0,l._M)(e);let u=(0,l.mx)(e);"dark"!==O(e,245)||t?.ignoreWhiteSymbols||(u={width:.75,...u,color:"#bdc3c7"});const h={shape:null,fill:c,stroke:u,offset:[0,0]};u?.width&&(u.width=Math.min(u.width,k));const x=u?.width||0;let z=null!=t?.size&&(null==t?.scale||t?.scale),F=0,C=0,j=!1;switch(e.type){case w:{const n=e.style,{width:l,height:r}=Z(t),c=l===r&&null!=l?l:null!=a?a:Math.min((0,o.F2)(e.size),s||v);switch(F=c,C=c,n){case"circle":h.shape={type:"circle",cx:0,cy:0,r:.5*c},z||(F+=x,C+=x);break;case"cross":h.shape={type:"path",path:[{command:"M",values:[0,.5*C]},{command:"L",values:[F,.5*C]},{command:"M",values:[.5*F,0]},{command:"L",values:[.5*F,C]}]};break;case"diamond":h.shape={type:"path",path:[{command:"M",values:[0,.5*C]},{command:"L",values:[.5*F,0]},{command:"L",values:[F,.5*C]},{command:"L",values:[.5*F,C]},{command:"Z",values:[]}]},z||(F+=x,C+=x);break;case"square":h.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[F,0]},{command:"L",values:[F,C]},{command:"L",values:[0,C]},{command:"Z",values:[]}]},z||(F+=x,C+=x),i&&(j=!0);break;case"triangle":h.shape={type:"path",path:[{command:"M",values:[.5*F,0]},{command:"L",values:[F,C]},{command:"L",values:[0,C]},{command:"Z",values:[]}]},z||(F+=x,C+=x),i&&(j=!0);break;case"x":h.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[F,C]},{command:"M",values:[F,0]},{command:"L",values:[0,C]}]},i&&(j=!0);break;case"path":h.shape={type:"path",path:e.path||""},z||(F+=x,C+=x),i&&(j=!0),z=!0}break}case p:{const{width:e,height:n}=Z(t),s=null!=n?n:null!=a?a:x,i=null!=e?e:M;u&&(u.width=s),F=i,C=s;const o=h?.stroke?.cap||"butt",l="round"===o;z=!0,h.stroke&&(h.stroke.cap="butt"===o?"square":o),h.shape={type:"path",path:[{command:"M",values:[l?s/2:0,C/2]},{command:"L",values:[l?F-s/2:F,C/2]}]};break}case m:case f:{const e="object"==typeof t?.symbolConfig&&t?.symbolConfig.isSquareFill,{width:n,height:s}=Z(t);F=!e&&n!==s||null==n?null!=a?a:b:n,C=!e&&n!==s||null==s?F:s,z||(F+=x,C+=x),z=!0,h.shape=e?{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[F,0]},{command:"L",values:[F,C]},{command:"L",values:[0,C]},{command:"L",values:[0,0]},{command:"Z",values:[]}]}:r.JZ.fill[0];break}case d:{const n=Math.min((0,o.F2)(e.width),s||v),l=Math.min((0,o.F2)(e.height),s||v),{width:r,height:c}=Z(t),u=r===c&&null!=r?r:null!=a?a:Math.max(n,l),m=n/l;F=m<=1?Math.ceil(u*m):u,C=m<=1?u:Math.ceil(u/m),h.shape={type:"image",x:-Math.round(F/2),y:-Math.round(C/2),width:F,height:C,src:e.url||""},i&&(j=!0);break}case y:{const n=e,i=t?.overrideText||n.text||g,l=n.font,{width:r,height:c}=Z(t),u=null!=c?c:null!=a?a:Math.min((0,o.F2)(l.size),s||v),m=L(i,{weight:l.weight,size:u,family:l.family}),d=/[\uE600-\uE6FF]/.test(i);F=r??(d?u:m),C=u;let f=.25*S((l?u:0).toString());d&&(f+=5),h.shape={type:"text",text:i,x:n.xoffset||0,y:n.yoffset||f,align:"middle",alignBaseline:n.verticalAlignment,decoration:l&&l.decoration,rotated:n.rotated,kerning:n.kerning},h.font=l&&{size:u,style:l.style,decoration:l.decoration,weight:l.weight,family:l.family};break}}return{shapeDescriptor:h,size:[F,C],renderOptions:{node:t?.node,scale:z,opacity:t?.opacity,rotation:i,useRotationSize:j,effectView:t?.effectView}}}async function D(e,t){const{shapeDescriptor:n,size:a,renderOptions:i}=q(e,t);if(!n.shape)throw new s.Z("symbolPreview: renderPreviewHTML2D","symbol not supported.");await j(e,n),await _(e,n,a,t);const o=[[n]];if("object"==typeof t?.symbolConfig&&t?.symbolConfig.applyColorModulation){const e=.6*a[0];o.unshift([{...n,offset:[-e,0],fill:(0,r.dc)(n.fill,-.3)}]),o.push([{...n,offset:[e,0],fill:(0,r.dc)(n.fill,.3)}]),a[0]+=2*e,i.scale=!1}return(0,c.wh)(o,a,i)}function O(e,t=x){const n=(0,l._M)(e),s=(0,l.mx)(e),i=!n||"type"in n?null:new a.Z(n),o=s?.color?new a.Z(s?.color):null,r=i?E(h(i),t):null,c=o?E(h(o),t):null;return c?r?r===c?r:t>=x?"light":"dark":c:r}}}]);