"use strict";(self["webpackChunkonepic"]=self["webpackChunkonepic"]||[]).push([[8448],{28448:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"fenbutu"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.huoshuishow,expression:"huoshuishow"}],staticClass:"fenbutu_panel"},[t("el-checkbox-group",{model:{value:e.huoshuiGroup,callback:function(t){e.huoshuiGroup=t},expression:"huoshuiGroup"}},e._l(e.huoshuiList,(function(a){return t("el-checkbox-button",{key:a.id,attrs:{label:a.label},on:{change:function(t){return e.huoshuionChange(a)}},model:{value:a.checked,callback:function(t){e.$set(a,"checked",t)},expression:"item.checked"}},[t("span",[e._v(e._s(a.label))])])})),1)],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.zhilaoshow,expression:"zhilaoshow"}],staticClass:"fenbutu_panel"},[t("el-checkbox-group",{model:{value:e.zhilaoGroup,callback:function(t){e.zhilaoGroup=t},expression:"zhilaoGroup"}},e._l(e.zhilaoList,(function(a){return t("el-checkbox-button",{key:a.id,attrs:{label:a.label},on:{change:function(t){return e.zhilaoonChange(a)}},model:{value:a.checked,callback:function(t){e.$set(a,"checked",t)},expression:"item.checked"}},[t("span",[e._v(e._s(a.label))])])})),1)],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.zhuganshow,expression:"zhuganshow"}],staticClass:"fenbutu_panel"},[t("el-checkbox-group",{model:{value:e.zhuganGroup,callback:function(t){e.zhuganGroup=t},expression:"zhuganGroup"}},e._l(e.zhuganList,(function(a){return t("el-checkbox-button",{key:a.id,attrs:{label:a.label},on:{change:function(t){return e.fenquonChange(a)}},model:{value:a.checked,callback:function(t){e.$set(a,"checked",t)},expression:"item.checked"}},[t("span",[e._v(e._s(a.label))])])})),1)],1)])},o=[],l=(a(57658),a(39264)),u=a(77335),h={created(){this.handleHuoshuiList(),this.handleZhilaoList(),this.handlezhuganList()},data(){return{huoshuiGroup:[],zhilaoGroup:[],zhuganGroup:[],huoshuiList:[],zhilaoList:[],zhuganList:[],huoshuishow:!1,zhilaoshow:!1,zhuganshow:!1}},methods:{huoshuionChange(e){if(e.checked=!e.checked,0==e.checked)this.removeHuoshuiFeatures(),this.removeHuoshuiPloygon();else{let t={};t.color=e.color,this.addHuoshuiPloygon(e.shape,t),this.addHuoshuiFeatures(e.id)}},zhilaoonChange(e){if(e.checked=!e.checked,0==e.checked)this.removeZhilaoFeatures(),this.removeZhilaoPloygon();else{let t={};t.color=e.color,this.addZhilaoPloygon(e.shape,t),this.addZhilaoFeatures(e.id)}},zhuganonChange(e){if(e.checked=!e.checked,0==e.checked)this.removeZhuganFeatures(),this.removeZhuganPloygon();else{let t={};t.color=e.color,this.addZhuganPloygon(e.shape,t),this.addZhuganFeatures(e.id)}},async handleHuoshuiList(){let e=await(0,u.mW)(),t=e.result;this.huoshuiList=[],t.forEach((e=>{let t={};t.id=e.specialSubjectVo.id,t.label=e.specialSubjectVo.riverName,t.color=e.specialSubjectVo.color,t.checked=!1,t.shape=e.specialSubjectVo.shape,this.huoshuiList.push(t)}))},async handleZhilaoList(){let e=await(0,u.AT)(),t=e.result;this.zhilaoList=[],t.forEach((e=>{let t={};t.id=e.specialSubjectVo.id,t.label=e.specialSubjectVo.riverName,t.color=e.specialSubjectVo.color,t.checked=!1,t.shape=e.specialSubjectVo.shape,this.zhilaoList.push(t)}))},async handlezhuganList(){let e=await(0,u.jh)(),t=e.result;this.zhuganList=[],t.forEach((e=>{let t={};t.id=e.specialSubjectVo.id,t.label=e.specialSubjectVo.riverName,t.color=e.specialSubjectVo.color,t.checked=!1,t.shape=e.specialSubjectVo.shape,this.zhuganList.push(t)}))},addHuoshuiPloygon(e,t){let a=[],s=JSON.parse(e);const o=new l.Z({geometry:{type:"polygon",rings:s.coordinates},symbol:{type:"simple-fill",color:[86,194,249],outline:{color:[5,93,181,.5],width:1}},attributes:t});a.push(o);const u={addFeatures:a};this.applyEditsToLayer(u)},addZhilaoPloygon(e,t){let a=[],s=JSON.parse(e);const o=new l.Z({geometry:{type:"polygon",rings:s.coordinates},symbol:{type:"simple-fill",color:[86,194,249],outline:{color:[5,93,181,.5],width:1}},attributes:t});a.push(o);const u={addFeatures:a};this.applyEditsToZhilaoLayer(u)},addZhuganPloygon(e,t){let a=[],s=JSON.parse(e);const o=new l.Z({geometry:{type:"polygon",rings:s.coordinates},symbol:{type:"simple-fill",color:[86,194,249],outline:{color:[5,93,181,.5],width:1}},attributes:t});a.push(o);const u={addFeatures:a};this.applyEditsToZhuganLayer(u)},async addHuoshuiFeatures(e){let t={};t.id=e;let a=await(0,u.uA)(t),s=a.result,o=[];s.forEach((e=>{let t=e.stationVo.latitude,a=e.stationVo.longitude;const s=new l.Z({geometry:{type:"point",latitude:t,longitude:a},attributes:e.stationVo});o.push(s)}));const h={addFeatures:o};this.applyEdits2ToLayer(h)},async addZhilaoFeatures(e){let t={};t.id=e;let a=await(0,u.KP)(t),s=a.result,o=[];s.forEach((e=>{let t=e.stationVo.latitude,a=e.stationVo.longitude;const s=new l.Z({geometry:{type:"point",latitude:t,longitude:a},attributes:e.stationVo});o.push(s)}));const h={addFeatures:o};this.applyEdits2ToZhilaoLayer(h)},async addZhuganFeatures(e){let t={};t.id=e;let a=await(0,u.KP)(t),s=a.result,o=[];s.forEach((e=>{let t=e.stationVo.latitude,a=e.stationVo.longitude;const s=new l.Z({geometry:{type:"point",latitude:t,longitude:a},attributes:e.stationVo});o.push(s)}));const h={addFeatures:o};this.applyEdits2ToZhuganLayer(h)},removeHuoshuiFeatures(){this.$parent.huoshuithemeLayer.queryFeatures().then((e=>{const t={deleteFeatures:e.features};this.applyEditsToLayer(t)}))},removeZhilaoFeatures(){this.$parent.zhilaofenbuLayer.queryFeatures().then((e=>{const t={deleteFeatures:e.features};this.applyEdits2ToZhilaoLayer(t)}))},removeZhuganFeatures(){this.$parent.zhuganthemeLayer.queryFeatures().then((e=>{const t={deleteFeatures:e.features};this.applyEditsToZhuganLayer(t)}))},removeHuoshuiPloygon(){this.$parent.huoshuifenbuLayer.queryFeatures().then((e=>{const t={deleteFeatures:e.features};this.applyEdits2ToLayer(t)}))},removeZhilaoPloygon(){this.$parent.zhilaothemeLayer.queryFeatures().then((e=>{const t={deleteFeatures:e.features};this.applyEditsToZhilaoLayer(t)}))},removeZhuganPloygon(){this.$parent.zhuganthemeLayer.queryFeatures().then((e=>{const t={deleteFeatures:e.features};this.applyEdits2ToZhuganLayer(t)}))},applyEditsToLayer(e){this.$parent.huoshuithemeLayer.applyEdits(e).then((e=>{if(e.deleteFeatureResults.length>0&&console.log(e.deleteFeatureResults.length,"features have been removed"),e.addFeatureResults.length>0){let t=[];e.addFeatureResults.forEach((e=>{t.push(e.objectId)})),this.$parent.huoshuithemeLayer.queryFeatures({objectIds:t}).then((e=>{console.log(e.features.length,"features have been added.")}))}})).catch((e=>{console.error(e)}))},applyEditsToZhilaoLayer(e){this.$parent.zhilaothemeLayer.applyEdits(e).then((e=>{if(e.deleteFeatureResults.length>0&&console.log(e.deleteFeatureResults.length,"features have been removed"),e.addFeatureResults.length>0){let t=[];e.addFeatureResults.forEach((e=>{t.push(e.objectId)})),this.$parent.zhilaothemeLayer.queryFeatures({objectIds:t}).then((e=>{console.log(e.features.length,"features have been added.")}))}})).catch((e=>{console.error(e)}))},applyEditsToZhuganLayer(e){this.$parent.zhuganthemeLayer.applyEdits(e).then((e=>{if(e.deleteFeatureResults.length>0&&console.log(e.deleteFeatureResults.length,"features have been removed"),e.addFeatureResults.length>0){let t=[];e.addFeatureResults.forEach((e=>{t.push(e.objectId)})),this.$parent.zhuganthemeLayer.queryFeatures({objectIds:t}).then((e=>{console.log(e.features.length,"features have been added.")}))}})).catch((e=>{console.error(e)}))},applyEdits2ToLayer(e){this.$parent.huoshuifenbuLayer.applyEdits(e).then((e=>{if(e.deleteFeatureResults.length>0&&console.log(e.deleteFeatureResults.length,"features have been removed"),e.addFeatureResults.length>0){let t=[];e.addFeatureResults.forEach((e=>{t.push(e.objectId)})),this.$parent.huoshuifenbuLayer.queryFeatures({objectIds:t}).then((e=>{console.log(e.features.length,"features have been added.")}))}})).catch((e=>{console.error(e)}))},applyEdits2ToZhilaoLayer(e){this.$parent.zhilaofenbuLayer.applyEdits(e).then((e=>{if(e.deleteFeatureResults.length>0&&console.log(e.deleteFeatureResults.length,"features have been removed"),e.addFeatureResults.length>0){let t=[];e.addFeatureResults.forEach((e=>{t.push(e.objectId)})),this.$parent.zhilaofenbuLayer.queryFeatures({objectIds:t}).then((e=>{console.log(e.features.length,"features have been added.")}))}})).catch((e=>{console.error(e)}))},applyEdits2ToZhuganLayer(e){this.$parent.zhuganfenbuLayer.applyEdits(e).then((e=>{if(e.deleteFeatureResults.length>0&&console.log(e.deleteFeatureResults.length,"features have been removed"),e.addFeatureResults.length>0){let t=[];e.addFeatureResults.forEach((e=>{t.push(e.objectId)})),this.$parent.zhuganfenbuLayer.queryFeatures({objectIds:t}).then((e=>{console.log(e.features.length,"features have been added.")}))}})).catch((e=>{console.error(e)}))}}},r=h,n=a(1001),i=(0,n.Z)(r,s,o,!1,null,"56477dbb",null),c=i.exports}}]);