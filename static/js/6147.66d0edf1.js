"use strict";(self["webpackChunkonepic"]=self["webpackChunkonepic"]||[]).push([[6147],{36147:function(t,e,n){n.r(e),n.d(e,{executeAttachmentQuery:function(){return h},fetchAttachments:function(){return p},processAttachmentQueryResult:function(){return f}});n(57658);var o=n(65677),a=n(94848),s=n(99659),c=n(53922),r=n(91083);function u(t){const e=t.toJSON();return e.attachmentTypes&&(e.attachmentTypes=e.attachmentTypes.join(",")),e.keywords&&(e.keywords=e.keywords.join(",")),e.globalIds&&(e.globalIds=e.globalIds.join(",")),e.objectIds&&(e.objectIds=e.objectIds.join(",")),e.size&&(e.size=e.size.join(",")),e}function f(t,e){const n={};for(const a of e){const{parentObjectId:e,parentGlobalId:c,attachmentInfos:u}=a;for(const a of u){const{id:u}=a,f=(0,s.qg)((0,o.Dp)(`${t.path}/${e}/attachments/${u}`)),h=r.Z.fromJSON(a);h.set({url:f,parentObjectId:e,parentGlobalId:c}),n[e]?n[e].push(h):n[e]=[h]}}return n}function h(t,e,n){let o={query:(0,c.A)({...t.query,f:"json",...u(e)})};return n&&(o={...n,...o,query:{...n.query,...o.query}}),(0,a["default"])(t.path+"/queryAttachments",o).then((t=>t.data.attachmentGroups))}async function p(t,e,n){const{objectIds:o}=e,s=[];for(const c of o)s.push((0,a["default"])(t.path+"/"+c+"/attachments",n));return Promise.all(s).then((t=>o.map(((e,n)=>({parentObjectId:e,attachmentInfos:t[n].data.attachmentInfos})))))}}}]);