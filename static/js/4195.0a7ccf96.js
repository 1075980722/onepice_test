"use strict";(self["webpackChunkonepic"]=self["webpackChunkonepic"]||[]).push([[4195],{857:function(n,e,t){t.d(e,{G6:function(){return b},Ie:function(){return D},J9:function(){return C},RF:function(){return F},U1:function(){return E},vY:function(){return u},ym:function(){return P}});t(57658);var i=t(8693),a=t(90421);const o=(n,e,t)=>[e,t],r=(n,e,t)=>[e,t,n[2]],l=(n,e,t)=>[e,t,n[2],n[3]];function u(n){return n?{originPosition:"upper-left"===n.originPosition?"upperLeft":"lower-left"===n.originPosition?"lowerLeft":n.originPosition,scale:n.tolerance?[n.tolerance,n.tolerance]:[1,1],translate:(0,i.pC)(n.extent)?[n.extent.xmin,n.extent.ymax]:[0,0]}:null}function s({scale:n,translate:e},t){return Math.round((t-e[0])/n[0])}function f({scale:n,translate:e},t){return Math.round((e[1]-t)/n[1])}function c(n,e,t){const i=[];let a,o,r,l;for(let u=0;u<t.length;u++){const c=t[u];u>0?(r=s(n,c[0]),l=f(n,c[1]),r===a&&l===o||(i.push(e(c,r-a,l-o)),a=r,o=l)):(a=s(n,c[0]),o=f(n,c[1]),i.push(e(c,a,o)))}return i.length>0?i:null}function m(n,e,t,i){return c(n,t?i?l:r:i?r:o,e)}function d(n,e,t,i){const a=[],u=t?i?l:r:i?r:o;for(let o=0;o<e.length;o++){const t=c(n,u,e[o]);t&&t.length>=3&&a.push(t)}return a.length?a:null}function p(n,e,t,i){const a=[],u=t?i?l:r:i?r:o;for(let o=0;o<e.length;o++){const t=c(n,u,e[o]);t&&t.length>=2&&a.push(t)}return a.length?a:null}function x({scale:n,translate:e},t){return t*n[0]+e[0]}function h({scale:n,translate:e},t){return e[1]-t*n[1]}function v(n,e,t){const i=new Array(t.length);if(!t.length)return i;const[a,o]=n.scale;let r=x(n,t[0][0]),l=h(n,t[0][1]);i[0]=e(t[0],r,l);for(let u=1;u<t.length;u++){const n=t[u];r+=n[0]*a,l-=n[1]*o,i[u]=e(n,r,l)}return i}function y(n,e,t){const i=new Array(t.length);for(let a=0;a<t.length;a++)i[a]=v(n,e,t[a]);return i}function z(n,e,t,i){return v(n,t?i?l:r:i?r:o,e)}function I(n,e,t,i){return y(n,t?i?l:r:i?r:o,e)}function g(n,e,t,i){return y(n,t?i?l:r:i?r:o,e)}function w(n,e,t,i,a){return e.xmin=s(n,t.xmin),e.ymin=f(n,t.ymin),e.xmax=s(n,t.xmax),e.ymax=f(n,t.ymax),e!==t&&(i&&(e.zmin=t.zmin,e.zmax=t.zmax),a&&(e.mmin=t.mmin,e.mmax=t.mmax)),e}function T(n,e,t,i,a){return e.points=m(n,t.points,i,a)??[],e}function F(n,e,t,i,a){return e.x=s(n,t.x),e.y=f(n,t.y),e!==t&&(i&&(e.z=t.z),a&&(e.m=t.m)),e}function V(n,e,t,i,a){const o=d(n,t.rings,i,a);return o?(e.rings=o,e):null}function M(n,e,t,i,a){const o=p(n,t.paths,i,a);return o?(e.paths=o,e):null}function P(n,e){return n&&e?(0,a.wp)(e)?F(n,{},e,!1,!1):(0,a.l9)(e)?M(n,{},e,!1,!1):(0,a.oU)(e)?V(n,{},e,!1,!1):(0,a.aW)(e)?T(n,{},e,!1,!1):(0,a.YX)(e)?w(n,{},e,!1,!1):null:null}function C(n,e,t,a,o){return(0,i.pC)(t)&&(e.points=z(n,t.points,a,o)),e}function E(n,e,t,a,o){return(0,i.Wi)(t)||(e.x=x(n,t.x),e.y=h(n,t.y),e!==t&&(a&&(e.z=t.z),o&&(e.m=t.m))),e}function D(n,e,t,a,o){return(0,i.pC)(t)&&(e.rings=g(n,t.rings,a,o)),e}function b(n,e,t,a,o){return(0,i.pC)(t)&&(e.paths=I(n,t.paths,a,o)),e}},94195:function(n,e,t){t.r(e),t.d(e,{classBreaks:function(){return z},heatmapStatistics:function(){return g},histogram:function(){return I},summaryStatistics:function(){return v},uniqueValues:function(){return y}});t(23767),t(8585),t(68696),t(57658),t(80388),t(22130);var i=t(8693),a=t(30524),o=t(87429),r=t(857),l=t(54597),u=(t(71062),t(71290)),s=t(11026),f=t(21361),c=t(12218);let m=null;function d(n,e,t){return n.x<0?n.x+=e:n.x>t&&(n.x-=e),n}function p(n,e,t,a){const o=(0,l.MP)(t)?(0,l.C5)(t):null,u=o?Math.round((o.valid[1]-o.valid[0])/e.scale[0]):null;return n.map((n=>{const t=new c.Z((0,i.Wg)(n.geometry));return(0,r.RF)(e,t,t,t.hasZ,t.hasM),n.geometry=o?d(t,u,a[0]):t,n}))}function x(n,e=18,t,i,o,r){const l=new Float64Array(o*r);e=Math.round((0,a.F2)(e));let s=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,c=0,m=0,d=0,p=0;const x=(0,u.wx)(i,t);for(const{geometry:a,attributes:v}of n){const{x:n,y:t}=a,i=Math.max(0,n-e),h=Math.max(0,t-e),y=Math.min(r,t+e),z=Math.min(o,n+e),I=+x(v);for(let a=h;a<y;a++)for(let r=i;r<z;r++){const i=a*o+r,x=(0,u.If)(r-n,a-t,e),h=l[i];c=l[i]+=x*I;const v=c-h;m+=v,d+=v*v,c<s&&(s=c),c>f&&(f=c),p++}}if(!p)return{mean:0,stddev:0,min:0,max:0,mid:0,count:0};const h=(f-s)/2;return{mean:m/p,stdDev:Math.sqrt((d-m*m/p)/p),min:s,max:f,mid:h,count:p}}async function h(n,e){if(!e)return[];const{field:t,field2:i,field3:a,fieldDelimiter:r}=n,l=n.valueExpression,u=n.normalizationType,c=n.normalizationField,d=n.normalizationTotal,p=[],x=n.viewInfoParams;let h=null,v=null;if(l){if(!m){const{arcadeUtils:n}=await(0,f.LC)();m=n}h=m.createFunction(l),v=x&&m.getViewInfo({viewingMode:x.viewingMode,scale:x.scale,spatialReference:new o.Z(x.spatialReference)})}const y=n.fieldInfos,z=e[0]&&"declaredClass"in e[0]&&"esri.Graphic"===e[0].declaredClass||!y?null:{fields:y};return e.forEach((n=>{const e=n.attributes;let o;if(l){const e=z?{...n,layer:z}:n,t=m.createExecContext(e,v);o=m.executeFunction(h,t)}else e&&(o=e[t],i&&(o=`${(0,s.wk)(o)}${r}${(0,s.wk)(e[i])}`,a&&(o=`${o}${r}${(0,s.wk)(e[a])}`)));if(u&&"number"==typeof o&&isFinite(o)){const n=e&&parseFloat(e[c]);o=(0,s.fk)(o,u,n,d)}p.push(o)})),p}async function v(n){const{attribute:e,features:t}=n,{normalizationType:i,normalizationField:a,minValue:o,maxValue:r,fieldType:l}=e,u=await h({field:e.field,valueExpression:e.valueExpression,normalizationType:i,normalizationField:a,normalizationTotal:e.normalizationTotal,viewInfoParams:e.viewInfoParams,fieldInfos:e.fieldInfos},t),f=(0,s.S5)({normalizationType:i,normalizationField:a,minValue:o,maxValue:r}),c={value:.5,fieldType:l},m="esriFieldTypeString"===l?(0,s.H0)({values:u,supportsNullCount:f,percentileParams:c}):(0,s.i5)({values:u,minValue:o,maxValue:r,useSampleStdDev:!i,supportsNullCount:f,percentileParams:c});return(0,s.F_)(m,"esriFieldTypeDate"===l)}async function y(n){const{attribute:e,features:t}=n,i=await h({field:e.field,field2:e.field2,field3:e.field3,fieldDelimiter:e.fieldDelimiter,valueExpression:e.valueExpression,viewInfoParams:e.viewInfoParams,fieldInfos:e.fieldInfos},t),a=(0,s.eT)(i);return(0,s.Qm)(a,e.domains,e.returnAllCodedValues,e.fieldDelimiter)}async function z(n){const{attribute:e,features:t}=n,{field:i,normalizationType:a,normalizationField:o,normalizationTotal:r,classificationMethod:l}=e,u=await h({field:i,valueExpression:e.valueExpression,normalizationType:a,normalizationField:o,normalizationTotal:r,viewInfoParams:e.viewInfoParams,fieldInfos:e.fieldInfos},t),f=(0,s.G2)(u,{field:i,normalizationType:a,normalizationField:o,normalizationTotal:r,classificationMethod:l,standardDeviationInterval:e.standardDeviationInterval,numClasses:e.numClasses,minValue:e.minValue,maxValue:e.maxValue});return(0,s.DL)(f,l)}async function I(n){const{attribute:e,features:t}=n,{field:i,normalizationType:a,normalizationField:o,normalizationTotal:r,classificationMethod:l}=e,u=await h({field:i,valueExpression:e.valueExpression,normalizationType:a,normalizationField:o,normalizationTotal:r,viewInfoParams:e.viewInfoParams,fieldInfos:e.fieldInfos},t);return(0,s.oF)(u,{field:i,normalizationType:a,normalizationField:o,normalizationTotal:r,classificationMethod:l,standardDeviationInterval:e.standardDeviationInterval,numBins:e.numBins,minValue:e.minValue,maxValue:e.maxValue})}async function g(n){const{attribute:e,features:t}=n,{field:i,radius:a,fieldOffset:o,transform:r,spatialReference:l,size:u}=e,s=p(t,r,l,u),{count:f,min:c,max:m,mean:d,stdDev:h}=x(s,a,o,i,u[0],u[1]);return{count:f,min:c,max:m,avg:d,stddev:h}}}}]);