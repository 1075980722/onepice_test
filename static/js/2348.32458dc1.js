"use strict";(self["webpackChunkonepic"]=self["webpackChunkonepic"]||[]).push([[2348],{42348:function(e,t,i){i.r(t),i.d(t,{default:function(){return c}});var l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"listensite"},[t("div",{staticClass:"title"},[e._v("水质监测")]),t("div",{staticClass:"conditionfilter",staticStyle:{height:"11%"}},[t("div",{staticClass:"datafrom"},[t("span",[e._v("数据来源:")]),t("el-checkbox-group",{model:{value:e.datafrom,callback:function(t){e.datafrom=t},expression:"datafrom"}},[t("el-checkbox",{attrs:{label:"4",value:"4"}},[e._v("环保")]),t("el-checkbox",{attrs:{label:"1",value:"1"}},[e._v("自建")])],1)],1),t("div",{staticClass:"floodLevel"},[t("span",[e._v("重要程度:")]),t("el-radio",{attrs:{label:"0"},model:{value:e.floodLevel,callback:function(t){e.floodLevel=t},expression:"floodLevel"}},[e._v("全部")]),t("el-radio",{attrs:{label:"1"},model:{value:e.floodLevel,callback:function(t){e.floodLevel=t},expression:"floodLevel"}},[e._v("重点")])],1),t("div",{staticClass:"search"},[t("el-input",{attrs:{size:"small",placeholder:"站名、站码"},model:{value:e.filter.stationInput,callback:function(t){e.$set(e.filter,"stationInput",t)},expression:"filter.stationInput"}}),t("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:e.handleSearch}},[e._v(" 查询 ")])],1)]),t("div",{staticClass:"content"},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tablelist.datalist0,"header-cell-style":{padding:0,height:"8vw",background:"#eeeeee",color:"#000"},border:"",stripe:"",height:"100%"},on:{"row-click":function(t){return e.JumpToDetail(t)}}},[e._l(e.columns,(function(e,i){return[t("el-table-column",{key:i,attrs:{fixed:e.fixed,prop:e.data,label:e.title,width:e.width,align:"center"}})]}))],2)],1)])},a=[],o=(i(57658),i(16391));const n=e=>(0,o.Z)({url:"/mainBizShuiZhi/open/getRealTimeDataAllShuiZhiV2",method:"GET",params:e});var s={data(){return{loading:!1,datafrom:["1","4"],floodLevel:"1",datepicker:!1,startTime:"",endTime:"",timeOptions:[{value:"1",label:"近1小时"},{value:"6",label:"前6小时"},{value:"12",label:"前12小时"},{value:"24",label:"前1天"},{value:"48",label:"前2天"},{value:"72",label:"前3天"},{value:"custom",label:"自定义"}],filter:{time:"1",num:0,compare:"2",date1:new Date,date2:new Date,stationInput:""},count:{num0:0},groupdata:{numRange0:!1},tablelist:{datalist0:[]},deviceData:[],columns:[{fixed:"fixed",title:"序号",width:60,data:"id"},{title:"站名",width:180,data:"name"},{title:"时间",width:120,data:"collectTime"},{title:"水温(℃)",width:100,data:"wtmp"},{title:"pH",width:80,data:"ph"},{title:"溶解氧(mg/L)",width:80,data:"dox"},{title:"高猛酸盐指数(mg/L)",width:120,data:"codmn"},{title:"氨氮(mg/L)",width:120,data:"nh3n"},{title:"化学需氧量(mg/L)",width:110,data:"codcr"},{title:"总磷(mg/L)",width:120,data:"tp"},{title:"浊度(mg/L)",width:120,data:"turb"}]}},created(){},mounted(){this.handleSearch()},methods:{async handleSearch(){this.loading=!0;let e={sources:this.datafrom.toString(),stationName:this.filter.stationInput,mainSelect:this.floodLevel},t=await n(e);200===t.code&&(this.loading=!1);let i=t.result;null!=i?(this.groupdata.numRange0=!0,this.tablelist.datalist0=[],this.deviceData=[],this.count.num0=i.length,i.forEach(((e,t)=>{this.deviceData.push(e.shuiZhiRealTimeInfoVo);let i={};i.id=t+1,i.latitude=e.shuiZhiRealTimeInfoVo.latitude,i.longitude=e.shuiZhiRealTimeInfoVo.longitude,i.name=null==e.shuiZhiRealTimeInfoVo.name?"-":e.shuiZhiRealTimeInfoVo.name;let l=null==e.shuiZhiRealTimeInfoVo.collectTime?"-":e.shuiZhiRealTimeInfoVo.collectTime.slice(5,-3);i.collectTime=l,i.wtmp=null==e.shuiZhiRealTimeInfoVo.wtmp?"-":e.shuiZhiRealTimeInfoVo.wtmp,i.ph=null==e.shuiZhiRealTimeInfoVo.ph?"-":e.shuiZhiRealTimeInfoVo.ph,i.dox=null==e.shuiZhiRealTimeInfoVo.dox?"-":e.shuiZhiRealTimeInfoVo.dox,i.codmn=null==e.shuiZhiRealTimeInfoVo.codmn?"-":e.shuiZhiRealTimeInfoVo.codmn,i.nh3n=null==e.shuiZhiRealTimeInfoVo.nh3n?"-":e.shuiZhiRealTimeInfoVo.nh3n,i.codcr=null==e.shuiZhiRealTimeInfoVo.codcr?"-":e.shuiZhiRealTimeInfoVo.codcr,i.tp=null==e.shuiZhiRealTimeInfoVo.tp?"-":e.shuiZhiRealTimeInfoVo.tp,i.turb=null==e.shuiZhiRealTimeInfoVo.turb?"-":e.shuiZhiRealTimeInfoVo.turb,this.tablelist.datalist0.push(i)}))):(this.tablelist.datalist0=[],this.groupdata.numRange0=!1)}}},d=s,h=i(1001),u=(0,h.Z)(d,l,a,!1,null,"1fe1287c",null),c=u.exports}}]);